function getNav(){var e=$("ul.main-navigation, ul[role=main-navigation]").before('<fieldset class="mobile-nav">'),t=$("fieldset.mobile-nav").append("<select>");t.find("select").append('<option value="">Navigate&hellip;</option>');var a=function(){t.find("select").append('<option value="'+this.href+'">&raquo; '+$(this).text()+"</option>")};e.find("a").each(a),$("ul.subscription a").each(a),t.find("select").bind("change",function(e){e.target.value&&(window.location.href=e.target.value)})}function addSidebarToggler(){$("body").hasClass("sidebar-footer")||($("#content").append('<span class="toggle-sidebar"></span>'),$(".toggle-sidebar").bind("click",function(e){e.preventDefault(),$("body").hasClass("collapse-sidebar")?$("body").removeClass("collapse-sidebar"):$("body").addClass("collapse-sidebar")}));var e=$("aside.sidebar > section");e.length>1&&e.each(function(t,a){e.length>=3&&0===t%3&&$(a).addClass("first");var s=(t+1)%2?"odd":"even";$(a).addClass(s)}),e.length>=3&&$("aside.sidebar").addClass("thirds")}function testFeatures(){var e=["maskImage"];$(e).map(function(e,t){Modernizr.testAllProps(t)?$("html").addClass(t):$("html").addClass("no-"+t)}),"placeholder"in document.createElement("input")?$("html").addClass("placeholder"):$("html").addClass("no-placeholder")}function addCodeLineNumbers(){"Microsoft Internet Explorer"!==navigator.appName&&$("div.gist-highlight").each(function(e){for(var t='<table><tbody><tr><td class="gutter">',a='<pre class="line-numbers">',s='</pre></td><td class="code">',n="</td></tr></tbody></table>",r=$(".line",e).length,i=1;r>=i;i++)a+='<span class="line-number">'+i+"</span>\n";var o=t+a+s+"<pre>"+$("pre",e).html()+"</pre>"+n;$(e).html(o)})}function flashVideoFallback(){var e="/assets/jwplayer/player.swf",t="/assets/jwplayer/glow/glow.xml";$("video").each(function(a,s){s=$(s),(!Modernizr.video.h264&&swfobject.getFlashPlayerVersion()||-1!==window.location.hash.indexOf("flash-test"))&&(s.children("source[src$=mp4]").first().map(a,function(a){var n=$(a).attr("src"),r="video_"+Math.round(1+1e5*Math.random()),i=s.attr("width"),o=parseInt(s.attr("height"),10)+30;s.after('<div class="flash-video"><div><div id='+r+">"),swfobject.embedSWF(e,r,i,o+30,"9.0.0",{file:n,image:s.attr("poster"),skin:t},{movie:n,wmode:"opaque",allowfullscreen:"true"})}),s.remove())})}function wrapFlashVideos(){$("object").each(function(e,t){$(t).find("param[name=movie]").length&&$(t).wrap('<div class="flash-video">')}),$("iframe[src*=vimeo],iframe[src*=youtube]").wrap('<div class="flash-video">')}function renderDeliciousLinks(e){for(var t="<ul>",a=0,s=e.length;s>a;a++)t+='<li><a href="'+e[a].u+'" title="Tags: '+(""==e[a].t?"":e[a].t.join(", "))+'">'+e[a].d+"</a></li>";t+="</ul>",$("#delicious").html(t)}$("document").ready(function(){testFeatures(),wrapFlashVideos(),flashVideoFallback(),addCodeLineNumbers(),getNav(),addSidebarToggler()}),function(e){function t(){i.content="width=device-width,minimum-scale="+r[0]+",maximum-scale="+r[1],e.removeEventListener(s,t,!0)}var a="addEventListener",s="gesturestart",n="querySelectorAll",r=[1,1],i=n in e?e[n]("meta[name=viewport]"):[];(i=i[i.length-1])&&a in e&&(t(),r=[.25,1.6],e[a](s,t,!0))}(document);var swfobject=function(){function e(e,a,s){var o,c=t(s);if(d.wk&&d.wk<312)return o;if(c)if(typeof e.id==n&&(e.id=s),d.ie&&d.win){var p,f="";for(p in e)e[p]!=Object.prototype[p]&&("data"==p.toLowerCase()?a.movie=e[p]:"styleclass"==p.toLowerCase()?f+=' class="'+e[p]+'"':"classid"!=p.toLowerCase()&&(f+=" "+p+'="'+e[p]+'"'));p="";for(var u in a)a[u]!=Object.prototype[u]&&(p+='<param name="'+u+'" value="'+a[u]+'" />');c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+p+"</object>",o=t(e.id)}else{u=l.createElement(r),u.setAttribute("type",i);for(var v in e)e[v]!=Object.prototype[v]&&("styleclass"==v.toLowerCase()?u.setAttribute("class",e[v]):"classid"!=v.toLowerCase()&&u.setAttribute(v,e[v]));for(f in a)a[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(e=u,p=f,v=a[f],s=l.createElement("param"),s.setAttribute("name",p),s.setAttribute("value",v),e.appendChild(s));c.parentNode.replaceChild(u,c),o=u}return o}function t(e){var t=null;try{t=l.getElementById(e)}catch(a){}return t}function a(e){var t=d.pv,e=e.split(".");return e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10)||0,e[2]=parseInt(e[2],10)||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]?!0:!1}function s(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=n?encodeURIComponent(e):e}var n="undefined",r="object",i="application/x-shockwave-flash",o=window,l=document,c=navigator,d=function(){var e=typeof l.getElementById!=n&&typeof l.getElementsByTagName!=n&&typeof l.createElement!=n,t=c.userAgent.toLowerCase(),a=c.platform.toLowerCase(),s=a?/win/.test(a):/win/.test(t),a=a?/mac/.test(a):/mac/.test(t),t=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,d=!1,p=[0,0,0],f=null;if(typeof c.plugins!=n&&typeof c.plugins["Shockwave Flash"]==r)!(f=c.plugins["Shockwave Flash"].description)||typeof c.mimeTypes!=n&&c.mimeTypes[i]&&!c.mimeTypes[i].enabledPlugin||(d=!1,f=f.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),p[0]=parseInt(f.replace(/^(.*)\..*$/,"$1"),10),p[1]=parseInt(f.replace(/^.*\.(.*)\s.*$/,"$1"),10),p[2]=/[a-zA-Z]/.test(f)?parseInt(f.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof o.ActiveXObject!=n)try{var u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");u&&(f=u.GetVariable("$version"))&&(d=!0,f=f.split(" ")[1].split(","),p=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}catch(v){}return{w3:e,pv:p,wk:t,ie:d,win:s,mac:a}}();return{embedSWF:function(t,s,i,o,l,c,p,f,u){var v={success:!1,id:s};if(d.w3&&!(d.wk&&d.wk<312)&&t&&s&&i&&o&&l){i+="",o+="";var h={};if(f&&typeof f===r)for(var m in f)h[m]=f[m];if(h.data=t,h.width=i,h.height=o,t={},p&&typeof p===r)for(var b in p)t[b]=p[b];if(c&&typeof c===r)for(var w in c)typeof t.flashvars!=n?t.flashvars+="&"+w+"="+c[w]:t.flashvars=w+"="+c[w];a(l)&&(s=e(h,t,s),v.success=!0,v.ref=s)}u&&u(v)},ua:d,getFlashPlayerVersion:function(){return{major:d.pv[0],minor:d.pv[1],release:d.pv[2]}},hasFlashPlayerVersion:a,createSWF:function(t,a,s){return d.w3?e(t,a,s):void 0},getQueryParamValue:function(e){var t=l.location.search||l.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return s(t);for(var t=t.split("&"),a=0;a<t.length;a++)if(t[a].substring(0,t[a].indexOf("="))==e)return s(t[a].substring(t[a].indexOf("=")+1))}return""}}}();